document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));let e=.01*window.innerHeight;function t(e){let t=document.getElementById(e),o=t.offsetTop,r=t;for(;r.offsetParent&&r.offsetParent!=document.body;)r=r.offsetParent,o+=r.offsetTop;return o}function o(e){let o=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,r=t(e),s=document.querySelector(".anchors");s&&(r=t(e)-Number(s.getBoundingClientRect().height));let n=r>o?r-o:o-r;if(n<100)return void scrollTo(0,r);let c=Math.round(n/100);c>=20&&(c=20);let l=Math.round(n/25),a=r>o?o+l:o-l,i=0;if(r>o)for(let e=o;e<r;e+=l)setTimeout("window.scrollTo(0, "+a+")",i*c),a+=l,a>r&&(a=r),i++;else for(let e=o;e>r;e-=l)setTimeout("window.scrollTo(0, "+a+")",i*c),a-=l,a<r&&(a=r),i++}document.documentElement.style.setProperty("--vh",e+"px"),window.addEventListener("resize",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),document.documentElement.style.setProperty("--height",c.getBoundingClientRect().height+"px")});const r=document.querySelectorAll('a[href^="#"]');r&&r.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.getAttribute("href").length>1&&o(e.getAttribute("href").slice(1))})});const s=document.querySelector(".footer__up");s&&s.addEventListener("click",e=>{e.preventDefault(),$("html, body").animate({scrollTop:0},{duration:200})});const n=document.querySelectorAll(".select");n&&n.forEach((function(e){new SlimSelect({select:e})}));const c=document.querySelector(".header"),l=document.querySelector(".header__wrapper--bottom"),a=document.querySelectorAll(".search-btn"),i=document.querySelector(".header-search"),d=document.querySelector(".header-search__top"),u=document.querySelector(".header-search__close"),m=document.querySelector(".overlay");document.documentElement.style.setProperty("--height",c.getBoundingClientRect().height+"px"),document.documentElement.style.setProperty("--search",d.getBoundingClientRect().height+"px"),l.style.setProperty("--width","0px"),a&&a.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),i.classList.add("header-search--active"),m.classList.add("overlay--active"),document.body.classList.add("scroll-disabled"),l.style.setProperty("--width","100%")})}),u&&u.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("header-search--active"),m.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"),l.style.setProperty("--width","0")}),m&&m.addEventListener("click",e=>{e.preventDefault(),i.classList.remove("header-search--active"),m.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"),l.style.setProperty("--width","0")});const p=document.querySelectorAll(".nav__list > li");p&&p.forEach((e,t)=>{e.addEventListener("mouseover",()=>{let e=0;for(let o=t+1;o<p.length;o++)e+=document.querySelectorAll(".nav__list > li")[o].getBoundingClientRect().width;e>0?l.style.setProperty("--width",`calc(100% - ${e+21}px)`):l.style.setProperty("--width",`calc(100% - ${e}px)`)}),e.addEventListener("mouseout",()=>{i&&i.classList.contains("header-search--active")?l.style.setProperty("--width","100%"):l.style.setProperty("--width","0px")})});const h=document.getElementById("hamburger-toggle"),y=document.querySelector(".mobile-menu"),v=document.querySelectorAll(".mobile-menu__dropdown");h&&y&&h.addEventListener("click",e=>{e.preventDefault(),h.classList.contains("hamburger--active")&&y.classList.contains("mobile-menu--active")?(h.classList.remove("hamburger--active"),y.classList.remove("mobile-menu--active"),document.body.classList.remove("scroll-disabled")):(h.classList.add("hamburger--active"),y.classList.add("mobile-menu--active"),document.body.classList.add("scroll-disabled"))}),y&&v&&v.forEach(e=>{e.addEventListener("click",(function(t){t.preventDefault(),e.classList.contains("mobile-menu__dropdown--active")?(e.classList.remove("mobile-menu__dropdown--active"),$(this).next().slideUp(350)):(e.classList.add("mobile-menu__dropdown--active"),$(this).next().slideDown(350))}))}),$(".marquee__wrapper")&&$(".marquee__wrapper").marquee({duration:15e3,gap:36,pauseOnHover:!0,duplicated:!0,delayBeforeStart:500,startVisible:!0});const f=document.querySelector(".ads__slider"),g=document.querySelector(".ads__slider .swiper-container");if(f&&g){const e=new Swiper(g,{slidesPerView:"auto",centeredSlides:!0,breakpoints:{1200:{centeredSlidesBounds:!0}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});e.on("slideChange",(function(){e.activeIndex?f.classList.add("ads__slider--before"):f.classList.remove("ads__slider--before")}))}const _=document.querySelector(".anchors"),w=document.querySelectorAll(".anchors__item");_&&($("body").scrollspy({target:"#anchors-list",offset:Number(c.getBoundingClientRect().height+_.getBoundingClientRect().height+2)}),$(window).on("activate.bs.scrollspy",(function(e,t){let o=$(`[href="${t.relatedTarget}"]`);o.removeClass("prev-active"),o.parent().nextAll().children("a").removeClass("prev-active"),o.parent().prevAll().children("a").addClass("prev-active"),$(".anchors__list").animate({scrollLeft:o.parent().position().left-50},100)}))),w&&w.forEach((e,t)=>{e.addEventListener("mouseover",()=>{let e=0;for(let o=0;o<=t;o++)e+=document.querySelectorAll(".anchors__item")[o].getBoundingClientRect().width;document.querySelector(".anchors__list").style.setProperty("--width",`calc(${e}px)`)}),e.addEventListener("mouseout",()=>{document.querySelector(".anchors__list").style.setProperty("--width","0px")})});const b=document.querySelector(".structure__wrapper"),E=document.querySelectorAll(".structure__item");E&&E.forEach(e=>{e.addEventListener("mouseover",()=>{b.classList.add("structure__wrapper--hover")}),e.addEventListener("mouseout",()=>{b.classList.remove("structure__wrapper--hover")})});const S=$(".accordions__trigger");S&&S.on("click",(function(e){e.preventDefault(),$(this).toggleClass("accordions__trigger--active"),$(this).next().slideToggle()}));const q=document.querySelector(".contacts__map");if(q){[{id:"contacts-map-1",coordinates:[55.7672809,37.6697732],zoom:11,instance:null},{id:"contacts-map-2",coordinates:[43.1175126,131.89390420061744],zoom:11,instance:null}].forEach(e=>function(e){e.instance=L.map(e.id,{attributionControl:!1,gestureHandling:!0,gestureHandlingOptions:{duration:2e3,text:{touch:"Для перемещения карты проведите по ней двумя пальцами",scroll:"Используйте Ctrl + колесо мыши для масштабирования карты",scrollMac:"Используйте ⌘ + колесо мыши для масштабирования карты"}}}).setView(e.coordinates,11),L.tileLayer("https://{s}.tile.jawg.io/jawg-light/{z}/{x}/{y}{r}.png?access-token={accessToken}",{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',minZoom:0,maxZoom:22,subdomains:"abcd",accessToken:"9SeVpBO8XpK5PQfKxQEl8o3P735Af26zC1QVyQUhaI9sf8eMHQGP3rAys5hgFoxt"}).addTo(e.instance);let t=L.divIcon({className:"map-marker"});L.marker(e.coordinates,{icon:t}).addTo(e.instance)}(e))}}));