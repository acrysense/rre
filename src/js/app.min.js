document.addEventListener("DOMContentLoaded",(function(){Inputmask().mask(document.querySelectorAll("input"));let e=.01*window.innerHeight;function t(e){let t=document.getElementById(e),o=t.offsetTop,n=t;for(;n.offsetParent&&n.offsetParent!=document.body;)n=n.offsetParent,o+=n.offsetTop;return o}function o(e){let o=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,n=t(e)-10,r=document.querySelector(".anchors"),l=document.querySelector(".dropdown-articles");r?n=t(e)-Number(r.getBoundingClientRect().height):l&&(n=t(e)-Number(l.getBoundingClientRect().height)-10);let a=n>o?n-o:o-n;if(a<100)return void scrollTo(0,n);let i=Math.round(a/100);i>=20&&(i=20);let s=Math.round(a/25),c=n>o?o+s:o-s,d=0;if(n>o)for(let e=o;e<n;e+=s)setTimeout("window.scrollTo(0, "+c+")",d*i),c+=s,c>n&&(c=n),d++;else for(let e=o;e>n;e-=s)setTimeout("window.scrollTo(0, "+c+")",d*i),c-=s,c<n&&(c=n),d++}document.documentElement.style.setProperty("--vh",e+"px"),window.addEventListener("resize",()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),document.documentElement.style.setProperty("--height",i.getBoundingClientRect().height+"px")});const n=document.querySelectorAll('a[href^="#"]');n&&n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.getAttribute("href").length>1&&o(e.getAttribute("href").slice(1))})});const r=document.querySelector(".footer__up");r&&r.addEventListener("click",e=>{e.preventDefault(),$("html, body").animate({scrollTop:0},{duration:200})});const l=document.querySelectorAll(".select");function a(e){const t=e.find(".table-indicators__column");e.find(".table-indicators__table").find(".table-indicators__row").each((e,o)=>{let n=$(o),r=$.merge(n.children(".table-indicators__elem"),t.find(".table-indicators__row").eq(e).children()),l=Math.round(function(e){let t=e.map((function(){return $(this).height()})).get();return Math.max.apply(null,t)}(r));r.height(l)})}l&&l.forEach((function(e){new SlimSelect({select:e})})),$(".table-indicators").each((function(e,t){a($(t)),$(window).on("resize",(function(){a($(t))}))}));const i=document.querySelector(".header"),s=document.querySelector(".header__wrapper--bottom"),c=document.querySelectorAll(".search-btn"),d=document.querySelector(".header-search"),u=document.querySelector(".header-search__top"),m=document.querySelector(".header-search__close"),p=document.querySelector(".overlay");document.documentElement.style.setProperty("--height",i.getBoundingClientRect().height+"px"),document.documentElement.style.setProperty("--search",u.getBoundingClientRect().height+"px"),s.style.setProperty("--width","0px"),c&&c.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),g&&y&&g.classList.contains("hamburger--active")&&y.classList.contains("mobile-menu--active")&&(g.classList.remove("hamburger--active"),y.classList.remove("mobile-menu--active"),document.body.classList.remove("scroll-disabled")),d.classList.add("header-search--active"),p.classList.add("overlay--active"),document.body.classList.add("scroll-disabled"),s.style.setProperty("--width","100%")})}),m&&m.addEventListener("click",e=>{e.preventDefault(),d.classList.remove("header-search--active"),p.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"),s.style.setProperty("--width","0")}),p&&p.addEventListener("click",e=>{e.preventDefault(),d.classList.remove("header-search--active"),p.classList.remove("overlay--active"),document.body.classList.remove("scroll-disabled"),s.style.setProperty("--width","0")});const h=document.querySelectorAll(".nav__list > li");h&&h.forEach((e,t)=>{e.addEventListener("mouseover",()=>{let e=0;for(let o=t+1;o<h.length;o++)e+=document.querySelectorAll(".nav__list > li")[o].getBoundingClientRect().width;e>0?s.style.setProperty("--width",`calc(100% - ${e+21}px)`):s.style.setProperty("--width",`calc(100% - ${e}px)`)}),e.addEventListener("mouseout",()=>{d&&d.classList.contains("header-search--active")?s.style.setProperty("--width","100%"):s.style.setProperty("--width","0px")})});const g=document.getElementById("hamburger-toggle"),y=document.querySelector(".mobile-menu"),f=document.querySelectorAll(".mobile-menu__dropdown");g&&y&&g.addEventListener("click",e=>{e.preventDefault(),g.classList.contains("hamburger--active")&&y.classList.contains("mobile-menu--active")?(g.classList.remove("hamburger--active"),y.classList.remove("mobile-menu--active"),document.body.classList.remove("scroll-disabled")):(g.classList.add("hamburger--active"),y.classList.add("mobile-menu--active"),document.body.classList.add("scroll-disabled"))}),y&&f&&f.forEach(e=>{e.addEventListener("click",(function(t){t.preventDefault(),e.classList.contains("mobile-menu__dropdown--active")?(e.classList.remove("mobile-menu__dropdown--active"),$(this).next().slideUp(350)):(e.classList.add("mobile-menu__dropdown--active"),$(this).next().slideDown(350))}))}),$(".marquee__wrapper")&&$(".marquee__wrapper").marquee({duration:15e3,gap:36,pauseOnHover:!0,duplicated:!0,delayBeforeStart:500,startVisible:!0});const v=document.querySelector(".ads__slider"),b=document.querySelector(".ads__slider .swiper-container");if(v&&b){const e=new Swiper(b,{slidesPerView:"auto",centeredSlides:!0,breakpoints:{1200:{centeredSlidesBounds:!0}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});e.on("slideChange",(function(){e.activeIndex?v.classList.add("ads__slider--before"):v.classList.remove("ads__slider--before")}))}const w=document.querySelector(".anchors"),_=document.getElementById("anchors-list"),C=document.querySelectorAll(".anchors__item");let E=0;E=w?Number(i.getBoundingClientRect().height+w.getBoundingClientRect().height+12):document.querySelector(".dropdown-articles")&&window.innerWidth<768?Number(i.getBoundingClientRect().height+document.querySelector(".dropdown-articles").getBoundingClientRect().height+12):Number(i.getBoundingClientRect().height+12),_&&($("body").scrollspy({target:"#anchors-list",offset:E}),$(window).on("activate.bs.scrollspy",(function(e,t){let o=$(`[href="${t.relatedTarget}"].nav-link`),n=$(`[href="${t.relatedTarget}"].dropdown-articles__link`);o.removeClass("prev-active"),o.parent().nextAll().children("a").removeClass("prev-active"),o.parent().prevAll().children("a").addClass("prev-active"),$(".anchors__list").animate({scrollLeft:o.parent().position().left-50},100),$(".dropdown-articles__btn").text(n.text()),$(".dropdown-articles__link").removeClass("active"),n.addClass("active")}))),C&&C.forEach((e,t)=>{e.addEventListener("mouseover",()=>{let e=0;for(let o=0;o<=t;o++)e+=document.querySelectorAll(".anchors__item")[o].getBoundingClientRect().width;document.querySelector(".anchors__list").style.setProperty("--width",`calc(${e}px)`)}),e.addEventListener("mouseout",()=>{document.querySelector(".anchors__list").style.setProperty("--width","0px")})}),window.addEventListener("scroll",()=>{if(document.querySelector(".articles-nav")){const e=$(".articles-nav").offset().top+$(".articles-nav").outerHeight()-Number(i.getBoundingClientRect().height),t=$(".articles").offset().top+$(".articles").outerHeight();window.pageYOffset>=e&&window.pageYOffset<=t?$(".dropdown-articles").fadeIn(250):$(".dropdown-articles").fadeOut(250)}});const k=document.querySelector(".structure__wrapper"),S=document.querySelectorAll(".structure__item");S&&S.forEach(e=>{e.addEventListener("mouseover",()=>{k.classList.add("structure__wrapper--hover")}),e.addEventListener("mouseout",()=>{k.classList.remove("structure__wrapper--hover")})});const x=$(".accordions__trigger");x&&x.on("click",(function(e){e.preventDefault(),$(this).toggleClass("accordions__trigger--active"),$(this).next().slideToggle()}));const A=document.querySelector(".contacts__map");if(A){[{id:"contacts-map-1",coordinates:[55.75812535,37.652952532062955],zoom:25,instance:null},{id:"contacts-map-2",coordinates:[43.1175126,131.89390420061744],zoom:25,instance:null}].forEach(e=>function(e){e.instance=L.map(e.id,{attributionControl:!1,gestureHandling:!0,gestureHandlingOptions:{duration:2e3,text:{touch:"Для перемещения карты проведите по ней двумя пальцами",scroll:"Используйте Ctrl + колесо мыши для масштабирования карты",scrollMac:"Используйте ⌘ + колесо мыши для масштабирования карты"}}}).setView(e.coordinates,14),L.tileLayer("https://{s}.tile.jawg.io/jawg-light/{z}/{x}/{y}{r}.png?access-token={accessToken}",{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',minZoom:0,maxZoom:22,subdomains:"abcd",accessToken:"9SeVpBO8XpK5PQfKxQEl8o3P735Af26zC1QVyQUhaI9sf8eMHQGP3rAys5hgFoxt"}).addTo(e.instance);let t=L.divIcon({className:"map-marker"});L.marker(e.coordinates,{icon:t}).addTo(e.instance)}(e))}const B=document.getElementById("myChart");let D=window.innerWidth>=768?15:10,q=window.innerWidth>=768?24:2,P=window.innerWidth>=768?14:8;if(B){new Chart(B,{type:"bar",data:{labels:["2016","2017","2018","2019","2020"],datasets:[{label:"Profit after taxation",data:[125e3,27e4,39e4,37e4,435e3],backgroundColor:["#E3D5C0"],borderColor:["#E3D5C0"]},{label:"Share capital and surplus",data:[3e5,58e4,86e4,825e3,975e3],backgroundColor:["#2F2355"],borderColor:["#2F2355"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{htmlLegend:{containerID:"legend-container"},legend:{display:!1}},scales:{x:{ticks:{color:"#ADADAD",padding:q,font:{size:D},userCallback:e=>e},grid:{display:!1}},y:{ticks:{color:"#ADADAD",padding:P,font:{size:D},userCallback:e=>e},grid:{drawBorder:!1}}}},plugins:[{id:"htmlLegend",afterUpdate(e,t,o){const n=((e,t)=>{const o=document.getElementById(t);let n=o.querySelector("ul");return n||(n=document.createElement("ul"),n.style.display="flex",n.style.flexDirection="row",n.style.margin=0,n.style.padding=0,o.appendChild(n)),n})(0,o.containerID);for(;n.firstChild;)n.firstChild.remove();e.options.plugins.legend.labels.generateLabels(e).forEach(t=>{const o=document.createElement("li");o.style.alignItems="center",o.style.cursor="pointer",o.style.display="flex",o.style.flexDirection="row",o.style.marginLeft="10px",o.onclick=()=>{const{type:o}=e.config;"pie"===o||"doughnut"===o?e.toggleDataVisibility(t.index):e.setDatasetVisibility(t.datasetIndex,!e.isDatasetVisible(t.datasetIndex)),e.update()};const r=document.createElement("span");r.style.background=t.fillStyle,r.style.borderColor=t.strokeStyle,r.style.borderWidth=t.lineWidth+"px",r.style.display="inline-block",r.style.height="20px",r.style.marginRight="10px",r.style.width="20px";const l=document.createElement("p");l.style.color=t.fontColor,l.style.margin=0,l.style.padding=0,l.style.textDecoration=t.hidden?"line-through":"";const a=document.createTextNode(t.text);l.appendChild(a),o.appendChild(r),o.appendChild(l),n.appendChild(o)})}}]})}const z=document.getElementById("map"),T=document.querySelectorAll(".t-group-item__label");T&&window.innerWidth<768&&T.forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault(),$(this).toggleClass("t-group-item__label--active"),$(this).next().slideToggle(300)}))}),z&&am4core.ready((function(){am4core.useTheme(am4themes_animated);var e=am4core.create("map",am4maps.MapChart);e.geodata=am4geodata_worldHigh,e.projection=new am4maps.projections.Mercator,e.zoomControl=new am4maps.ZoomControl,e.homeZoomLevel=0,e.homeGeoPoint={longitude:10,latitude:42},e.deltaLongitude=-11,e.chartContainer.wheelable=!1,e.zoomControl=new am4maps.ZoomControl,e.zoomControl.minusButton.stroke="#E9E3DA",e.zoomControl.minusButton.fontWeight=300,e.zoomControl.minusButton.x=-15,e.zoomControl.minusButton.marginBottom=13,e.zoomControl.minusButton.background.cornerRadius(0,0,0,0),e.zoomControl.minusButton.background.fill="#FAF9F8",e.zoomControl.minusButton.background.stroke="#E9E3DA",e.zoomControl.minusButton.background.states.getKey("hover").properties.fill="#FAF9F8",e.zoomControl.minusButton.background.states.getKey("hover").properties.stroke="#ADADAD",e.zoomControl.plusButton.stroke="#E9E3DA",e.zoomControl.plusButton.fontWeight=300,e.zoomControl.plusButton.x=-15,e.zoomControl.plusButton.marginBottom=5,e.zoomControl.plusButton.background.cornerRadius(0,0,0,0),e.zoomControl.plusButton.background.fill="#FAF9F8",e.zoomControl.plusButton.background.stroke="#E9E3DA",e.zoomControl.plusButton.background.states.getKey("hover").properties.fill="#FAF9F8",e.zoomControl.plusButton.background.states.getKey("hover").properties.stroke="#ADADAD";let t=[];$(".js-map-tooltips").children(".t-group-item").each((e,o)=>{let n=$(o).data("countries").split(",");t.push({id:$(o).attr("id"),name:$(o).find(".t-group-item__label").text(),color:$(o).data("color"),data:n.map(e=>({title:e,id:e}))})});var o=["AQ"];t.forEach((function(t){var n=e.series.push(new am4maps.MapPolygonSeries);n.name=t.name,n.useGeodata=!0;var r=[];t.data.forEach((function(e){r.push(e.id),o.push(e.id)})),n.include=r,n.fill=am4core.color(t.color),n.setStateOnChildren=!0,n.calculateVisualCenter=!0;var l=n.mapPolygons.template;l.fill=am4core.color(t.color),l.fillOpacity=1,l.stroke="#ADADAD",l.strokeWidth=.25,l.nonScalingStroke=!0,l.tooltipPosition="fixed",l.events.on("over",(function(e){n.mapPolygons.each((function(e){e.isHover=!0})),e.target.isHover=!1,e.target.isHover=!0})),l.events.on("out",(function(e){n.mapPolygons.each((function(e){e.isHover=!1}))})),n.tooltip.background.filters.clear(),n.tooltip.background.strokeWidth=0,n.tooltip.background.getFillFromObject=!1,n.tooltip.background.fill=am4core.color("rgba(0,0,0,0)"),n.tooltip.label.padding(0,0,0,0),n.tooltip.label.wrap=!0;l.states.create("hover");let a=`<div class="tooltip-dropdown-wrapper">${document.querySelector(`#${t.id} > .t-group-item__dropdown`).outerHTML}</div>`;l.tooltipHTML=a,n.data=JSON.parse(JSON.stringify(t.data))}));var n=e.series.push(new am4maps.MapPolygonSeries);n.name="world",n.useGeodata=!0,n.exclude=o,n.fillOpacity=1,n.hiddenInLegend=!0,n.mapPolygons.template.nonScalingStroke=!0,n.mapPolygons.template.fill="#FFFFFF",n.mapPolygons.template.stroke="#ADADAD",n.mapPolygons.template.strokeWidth=.25}))}));